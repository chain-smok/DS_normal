#include <stdio.h>
#include <stdlib.h>
#define MaxNum 10 //?w?q???|?j?p
int Stack[MaxNum]; //?H?}?CStack???@???|
int Top = -1; //Top??????e???|??????????A??l??]??-1??????|????
void Push(int); //??iPush??{??
int Pop(void); //??iPop??{??
int Transfer(char*); //??i???B??????{??
char itemset[MaxNum];
int main(void) //?D?{??
{
printf("===============?{???y?z================\n");
printf("= ?{???W??Gch3-3.6.c =\n");
printf("= ?{??????G???B?? =\n"); 
printf("=======================================\n"); 
printf("=================??J==================\n"); 
while(1) {
printf("?Èe?J?@?????:");
gets(itemset);
printf("%s = %d\n",itemset,Transfer(itemset));
}
system("pause"); //??{??????b????e??????????G
return (0);
}
int Transfer(char itemset[]) //???B??????{??
{ 
printf("?B???G?G"); 
char *pt=itemset;
int opd1,opd2;
while(*pt) { 
if(*pt >= '0' && *pt <= '9')
Push(*pt-'0');
else {
opd2=Pop(); //??G??B??
opd1=Pop(); //??@??B??
switch(*pt) {
case '+': Push(opd1 + opd2);
break; 
case '-': Push(opd1 - opd2);
break;
case '*': Push(opd1 * opd2);
break;
case '/': Push(opd1 / opd2);
break;
default: return -1;
}
}
pt++; } 
return Pop( ); }
//?N???[?J???|
void Push(int n) //Push??{??
{
if(Top == MaxNum -1) {
printf("???|?w???I");
return;
}
Stack[++Top] = n;
}
//???X???|???
int Pop(void) //Pop??{??
{
if(Top == -1) {
printf("???|?O??I");
return 1;
}
return Stack[Top--];
}
